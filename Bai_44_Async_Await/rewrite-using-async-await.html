<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>Rewrite using async/await</title>
	</head>
	
	<body>
		<script type="text/javascript">
			async function loadJson(url) {
				let response = await fetch(url);

				if (response.status === 200) {
					return response.json();
				}

				throw new Error(response.status);
			}

			loadJson('https://jsonplaceholder.typicode.com/todos/1')
				.then(json => console.log(json))
				.catch(console.log); 
		</script>
	</body>
</html>